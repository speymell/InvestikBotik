# InvestBot - –í–µ–±-—Å–µ—Ä–≤–∏—Å –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–π üìà

![InvestBot](https://img.shields.io/badge/InvestBot-v1.0-blue)
![Python](https://img.shields.io/badge/Python-3.8+-green)
![Flask](https://img.shields.io/badge/Flask-3.0-red)

InvestBot - —ç—Ç–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–π –≤ —Ä–æ—Å—Å–∏–π—Å–∫–∏–µ –∞–∫—Ü–∏–∏ —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π –≤ Telegram.

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üìä **–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø–æ—Ä—Ç—Ñ–µ–ª—è** - –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –≤–∞—à–∏–º–∏ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏—è–º–∏
- üí∞ **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—á–µ—Ç–∞–º–∏** - –ù–µ—Å–∫–æ–ª—å–∫–æ —Å—á–µ—Ç–æ–≤ —Å –æ—Ç–¥–µ–ª—å–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π
- üìà **–ê–∫—Ç—É–∞–ª—å–Ω—ã–µ –∫–æ—Ç–∏—Ä–æ–≤–∫–∏** - –ë–æ–ª–µ–µ 300 —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö –∞–∫—Ü–∏–π —Å MOEX API
- üì± **Telegram –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** - –£–¥–æ–±–Ω—ã–π –¥–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ –±–æ—Ç
- üíπ **–†–∞—Å—á–µ—Ç P&L** - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç –ø—Ä–∏–±—ã–ª–∏ –∏ —É–±—ã—Ç–∫–æ–≤
- üìã **–ò—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π** - –ü–æ–ª–Ω—ã–π —É—á–µ—Ç –≤—Å–µ—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- üìä **–ì—Ä–∞—Ñ–∏–∫–∏** - –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ü–µ–Ω –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- üîÑ **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ** - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ—Ç–∏—Ä–æ–≤–æ–∫

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.8+
- pip

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏–ª–∏ —Å–∫–∞—á–∞–π—Ç–µ —Ñ–∞–π–ª—ã

2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
pip install -r requirements.txt
```

3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
```bash
python app.py
```

4. –û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ –∞–¥—Ä–µ—Å—É: http://localhost:5000

5. –ù–∞–∂–º–∏—Ç–µ **"–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –¥–µ–º–æ"** –¥–ª—è –≤—Ö–æ–¥–∞ –≤ –¥–µ–º–æ-—Ä–µ–∂–∏–º

### –ó–∞–≥—Ä—É–∑–∫–∞ –∞–∫—Ü–∏–π —Å MOEX

–î–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –≤—Å–µ—Ö —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö –∞–∫—Ü–∏–π —Å –ú–æ—Å–∫–æ–≤—Å–∫–æ–π –±–∏—Ä–∂–∏:

```bash
python load_moex_stocks.py
```

–≠—Ç–æ –∑–∞–≥—Ä—É–∑–∏—Ç –±–æ–ª–µ–µ 300 –∞–∫—Ü–∏–π —Å –∞–∫—Ç—É–∞–ª—å–Ω—ã–º–∏ —Ü–µ–Ω–∞–º–∏.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
InvestikBotik/
‚îú‚îÄ‚îÄ app.py              # –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ database.py         # –ú–æ–¥–µ–ª–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ routes.py           # –ú–∞—Ä—à—Ä—É—Ç—ã –∏ API
‚îú‚îÄ‚îÄ stock_parser.py     # –ü–∞—Ä—Å–µ—Ä –¥–∞–Ω–Ω—ã—Ö –æ–± –∞–∫—Ü–∏—è—Ö
‚îú‚îÄ‚îÄ requirements.txt    # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ templates/          # HTML —à–∞–±–ª–æ–Ω—ã
‚îÇ   ‚îú‚îÄ‚îÄ layout.html
‚îÇ   ‚îú‚îÄ‚îÄ index.html
‚îÇ   ‚îú‚îÄ‚îÄ dashboard.html
‚îÇ   ‚îú‚îÄ‚îÄ stocks.html
‚îÇ   ‚îú‚îÄ‚îÄ stock_detail.html
‚îÇ   ‚îú‚îÄ‚îÄ account_detail.html
‚îÇ   ‚îî‚îÄ‚îÄ login.html
‚îî‚îÄ‚îÄ static/            # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã (CSS, JS)
```

## API Endpoints

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- `GET /login` - –í—Ö–æ–¥ —á–µ—Ä–µ–∑ Telegram
- `GET /dashboard` - –ü–∞–Ω–µ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `GET /stocks` - –°–ø–∏—Å–æ–∫ –∞–∫—Ü–∏–π
- `GET /stock/<ticker>` - –î–µ—Ç–∞–ª–∏ –∞–∫—Ü–∏–∏
- `GET /account/<id>` - –î–µ—Ç–∞–ª–∏ —Å—á–µ—Ç–∞

### API –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π
- `POST /api/deposit` - –ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ —Å—á–µ—Ç–∞
- `POST /api/withdraw` - –í—ã–≤–æ–¥ —Å—Ä–µ–¥—Å—Ç–≤
- `POST /api/buy_stock` - –ü–æ–∫—É–ø–∫–∞ –∞–∫—Ü–∏–π
- `POST /api/sell_stock` - –ü—Ä–æ–¥–∞–∂–∞ –∞–∫—Ü–∏–π

## –ú–æ–¥–µ–ª–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### User (–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏)
- `id` - –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- `telegram_id` - ID –≤ Telegram
- `username` - –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### Account (–°—á–µ—Ç–∞)
- `id` - –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- `name` - –ù–∞–∑–≤–∞–Ω–∏–µ —Å—á–µ—Ç–∞
- `balance` - –ë–∞–ª–∞–Ω—Å
- `user_id` - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### Stock (–ê–∫—Ü–∏–∏)
- `id` - –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- `ticker` - –¢–∏–∫–µ—Ä –∞–∫—Ü–∏–∏
- `name` - –ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏
- `price` - –¢–µ–∫—É—â–∞—è —Ü–µ–Ω–∞

### Transaction (–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏)
- `id` - –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- `type` - –¢–∏–ø –æ–ø–µ—Ä–∞—Ü–∏–∏ (deposit, withdrawal, buy, sell)
- `amount` - –°—É–º–º–∞
- `price` - –¶–µ–Ω–∞ –∑–∞ –∞–∫—Ü–∏—é (–¥–ª—è buy/sell)
- `quantity` - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ü–∏–π (–¥–ª—è buy/sell)
- `timestamp` - –í—Ä–µ–º—è –æ–ø–µ—Ä–∞—Ü–∏–∏
- `account_id` - ID —Å—á–µ—Ç–∞
- `stock_id` - ID –∞–∫—Ü–∏–∏

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram

–î–ª—è —Ä–∞–±–æ—Ç—ã —Å Telegram –±–æ—Ç–æ–º:

1. –°–æ–∑–¥–∞–π—Ç–µ –±–æ—Ç–∞ —á–µ—Ä–µ–∑ @BotFather
2. –ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Web App –≤ –±–æ—Ç–µ —Å URL –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
4. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–º–æ–≥—É—Ç –æ—Ç–∫—Ä—ã–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø—Ä—è–º–æ –∏–∑ Telegram

–ü—Ä–∏–º–µ—Ä URL –¥–ª—è –≤—Ö–æ–¥–∞: `https://yourserver.com/login?telegram_id=123456&username=user`

## –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

### –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:

1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å PostgreSQL –≤–º–µ—Å—Ç–æ SQLite
2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
   - `SECRET_KEY` - —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –¥–ª—è —Å–µ—Å—Å–∏–π
   - `DATABASE_URL` - URL –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å WSGI —Å–µ—Ä–≤–µ—Ä (–Ω–∞–ø—Ä–∏–º–µ—Ä, Gunicorn)
4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –æ–±—Ä–∞—Ç–Ω—ã–π –ø—Ä–æ–∫—Å–∏ (nginx)

### –ü—Ä–∏–º–µ—Ä –∑–∞–ø—É—Å–∫–∞ —Å Gunicorn:
```bash
pip install gunicorn
gunicorn -w 4 -b 0.0.0.0:8000 app:app
```

## –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –æ–± –∞–∫—Ü–∏—è—Ö

–î–ª—è —Ä–µ–≥—É–ª—è—Ä–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–æ—Ç–∏—Ä–æ–≤–æ–∫ –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å cron –∑–∞–¥–∞—á—É:

```bash
# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥—ã–π —á–∞—Å –≤ —Ä–∞–±–æ—á–∏–µ –¥–Ω–∏
0 9-18 * * 1-5 cd /path/to/project && python stock_parser.py
```

## –ê–≤—Ç–æ—Ä

¬© 2025 Polygalov V.

## –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ü–µ–ª–µ–π.
